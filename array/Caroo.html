<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tic tac toe</title>
  <style>
    *{
      margin: 0 auto;
      padding: 5px;
    }
    table{
      color: blue;
      border: 1px solid black;
      border-collapse: collapse;
    }
    table td{
      text-align: center;
      vertical-align: middle;
      font-size: 15px;
      border: 1px solid black;
      width:15px;
      height: 15px;
    }
  </style>
</head>
<body onload="drawBoardGame(20)">
<div id="gameboard">
</div>
<h3>Caro Game</h3>
<script>
  let listGame=[];
  function drawBoardGame(size){
    let game="<table>";
    for(i=0;i<size;i++){
      game+="<tr>";
      listGame[i]=[];
      for(j=0;j<size;j++){
        game+="<td onclick='changeStatus(this,"+i+","+j+");'>&nbsp;</td>";
        listGame[i][j]=-1;
      }
      game+="</tr>";
    }
    game+="</table>";
    document.getElementById("gameboard").innerHTML=game;
  }
  let status='X';
  function changeStatus(cell,xPos,yPos){
    cell.innerHTML=status;
    if(status==='X'){
      listGame[xPos][yPos]=0;
      status='O';
    }
    else{
      listGame[xPos][yPos]=1;
      status='X';
    }
    checkWin(xPos,yPos);
  }
  function checkWin(xPos,yPos){
    console.log(listGame);
    let countNgang=1;
    let countDoc=1;
    let countCheoTrai=1;
    let countCheoPhai=1;
    let i=xPos;
    let j=yPos;
    let valueOfCell=listGame[xPos][yPos];
    while(listGame[i][j+1]===valueOfCell){
      countNgang++;
      confirmWinner(countNgang,5);
      j++;
    }
    i=xPos;
    j=yPos;
    while(listGame[i][j-1]===valueOfCell){
      countNgang++;
      confirmWinner(countNgang,5);
      j--;
    }

    i=xPos;
    j=yPos;
    while(listGame[i+1][j]===valueOfCell){
      countDoc++;
      confirmWinner(countDoc,5);
      i++;
    }

    i=xPos;
    j=yPos;
    while(listGame[i-1][j]===valueOfCell){
      countDoc++;
      confirmWinner(countDoc,5);
      i--;
    }

    i=xPos;
    j=yPos;
    while(listGame[i-1][j-1]===valueOfCell){
      countCheoTrai++;
      confirmWinner(countCheoTrai,5);
      j--;
      i--;
    }

    i=xPos;
    j=yPos;
    while(listGame[i+1][j+1]===valueOfCell){
      countCheoPhai++;
      confirmWinner(countCheoPhai,5);
      j++;
      i++;
    }

    i=xPos;
    j=yPos;
    while(listGame[i+1][j-1]===valueOfCell){
      countCheoPhai++;
      confirmWinner(countCheoPhai,5);
      j--;
      i++;
    }

    i=xPos;
    j=yPos;
    while(listGame[i-1][j+1]===valueOfCell){
      countCheoTrai++;
      confirmWinner(countCheoTrai,5);
      j++;
      i--;
    }
  }
  function confirmWinner(count,number){
    if(count===number){
      alert("You are winner!");
    }
  }
</script>
</body>
</html>